<!--
	This is an experimental xml file for describing npc's and shops ingame.
	It's not yet implemented in game, but will probably be later.

	The # symbol is perhaps a symbol we can use to give the word comming directly 
	after a different colour, so you know what options you can ask, maybe we should 
	have a colour code aswell?, so it's possible to highlight words with different colours?
	Example: #FFFFFFhelp
	Standard RGB colour code, and you need all 6 hex values so it dos'nt take a letter  
	comming directly after in the word as part of the colour code. The highlight only works 
	until next space in the sentence.

	I have added params to the dialog items now, but they need to be evolved more, 
	the idea is that we use the first param to decide what function to be called, 
	and any other params comming after is values sent to the function.
	
	We still need a way to make chat trees and quest flags, ie you can't ask about 
	certain things until you have asked something else first, or have done a quest.
	
	
	
	Matthias Sugested decision/chat tree dialogs:

	<dialog say="job" reply="kill rats. want to do it?" set="joboffer"/>
	<dialog require="joboffer" say="yes" reply="so do it" set="dojob" clear="joboffer" />
	<dialog require="joboffer" say="no" reply="so be it" clear="joboffer" />

	where 'joboffer' and 'dojob' are switches stored somewhere in a map and 'require', 'set' and 'clear' modifies
	the map. These switches can be analyzed by the java-part of the npcs. 

-->

<data>

	<npc name="Carmen">
		<type class="npc" subclass="welcommernpc"/>
		<attributes>
			<attribute name="hp" value="100"/>
			<attribute name="atk" value="0"/>
			<attribute name="def" value="0"/>
			<attribute name="speed" value="0.5"/>
			<attribute name="xp" value="0"/>
			<attribute name="size" value="1"/>
		</attributes>
		<outfit>
		</outfit>
		<nodelist>
			<startpos x="5" y="45" zone="0_semos_city"/>
			<node x="5" y="45"/>
			<node x="18" y="45"/>
		</nodelist>
		<!-- the greet line is offcourse what the NPC replies when you say hi -->
		<dialogues greet="Hello and welcome to Stendhal, ask me for #help whenever your in trouble.">
			<dialog say="job" reply="I have healing abilities and I #heal wounded players."/>
			<dialog say="help" reply="I can #heal you and I also sell curative #items. I can also tell you about normal #chat lines."/>
			
			<!-- The listshop function only displays what items the vendor buys or sells, just like Xin Blanca does now -->
			<!-- Depending on what the secon command is, you list the buy or sell list, I thought this could be rather -->
			<!-- flexible and actually uses the name you have where you start the list here in the xml file, maybe the NPC -->
			<!-- has a trade list or choosable rare gift list aswell. The third param is the name of the list in question.-->
			<dialog say="items" reply="I sell these curative items: " params="listshop, selllist, semos_healing_shop"/>

			<dialog say="chat" reply="Most people will #help you if you ask them, and you may also ask them about there #job. Some people also have a few #quests you could do for them."/>
			<dialog say="quests" reply="I have heard Sato is looking for fat sheeps, talk to Nishaya just west of here to buy a sheep."/>
			<dialog say="heal" reply="You are healed. How may I help you?" params="healplayer"/>

			<!-- This is a good or bad godbye, if the player says bye the good reply is used, -->
			<!-- if the player just walks away, the bad is used -->
			<enddialog good="Good luck in your travels!" bad="Goodbye...."/>
		</dialogues>
		<addshop name="semos_healing_shop"/>
	</npc>

	<npc name="Diogenes">
		<type class="npc" subclass="beggarnpc"/>
		<attributes>
			<hp value="100"/>
			<atk value="0"/>
			<def value="0"/>
			<speed value="0.5"/>
			<xp value="0"/>
			<size value="[1,1]"/>
		</attributes>
		<outfit>
		</outfit>
		<nodelist>
			<startpos x="24" y="42" zone="0_semos_city"/>
			<node x="22" y="42"/>
			<node x="26" y="42"/>
			<node x="26" y="44"/>
			<node x="31" y="44"/>
			<node x="31" y="42"/>
			<node x="35" y="42"/>
			<node x="35" y="28"/>
			<node x="22" y="28"/>
		</nodelist>
		<dialogues greet="Greetings, do you have a coin to spare?">
			<dialog say="job" reply="Hehehe! Job! hehehe! Muahahaha!."/>
			<dialog say="help" reply="I can't help you, but you can help Stendhal: tell your friends about Stendhal and help us to create maps."/>
			<dialog say="quest">
				<replies prob="0.5" text="I have been told that on the deepest place of the dungeon under this city someone also buy sheeps, but *it* pays better!."/>
				<replies prob="0.5" text="Ah, quests... just like the old days when I was young! I remember one quest that was about... Oh look, a bird!hmm, what?! Oh, Oops! I forgot it! :("/>
			</dialog>
		</dialogues>
	</npc>


	<npc name="Margaret">
		<type class="npc" subclass="tavernbarmaidnpc"/>
		<attributes>
			<hp value="100"/>
			<atk value="0"/>
			<def value="0"/>
			<speed value="0.5"/>
			<xp value="0"/>
			<size value="[1,1]"/>
		</attributes>
		<outfit>
		</outfit>
		<nodelist>
			<startpos x="17" y="12" zone="int_semos_tavern"/>
			<node x="17" y="12"/>
			<node x="17" y="13"/>
			<node x="16" y="8"/>
			<node x="13" y="8"/>
			<node x="13" y="6"/>
			<node x="13" y="10"/>
			<node x="23" y="10"/>
			<node x="23" y="10"/>
			<node x="23" y="13"/>
			<node x="23" y="10"/>
			<node x="17" y="10"/>	
		</nodelist>

		<dialogues greet="Greetings, how may I help you?">
			<dialog say="job" reply="I am the bar maid for this fair tavern. We sell fine #drinks and #food."/>
			<dialog say="help" reply="At the tavern you can get #drinks and take a break to meet new people!."/>
			<dialog say="offer" reply="I have both #food and #drinks"/>
			<dialog say="drinks" reply="I have all these #drinks for sale: " params="listshop, selllist, semos_tavern_drinks"/>
			<dialog say="food" reply="On todays menu we have these meals: " params="listshop, selllist, semos_tavern_food"/>
			<enddialog good="Goodbye, come back again." bad="Youngsters these days!"/>
		</dialogues>
		<addshop name="semos_tavern_drinks"/>
		<addshop name="semos_tavern_food"/>
	</npc>

	<npc name="Xin Blanca">
		<type class="npc" subclass="weaponsellernpc"/>
		<attributes>
			<hp value="100"/>
			<atk value="0"/>
			<def value="0"/>
			<speed value="0.5"/>
			<xp value="0"/>
			<size value="[1,1]"/>
		</attributes>
		<outfit>
		</outfit>
		<nodelist>
			<startpos x="2" y="14" zone="int_semos_tavern"/>
			<node x="2" y="14"/>
			<node x="2" y="15"/>
			<node x="5" y="15"/>
			<node x="5" y="14"/>
		</nodelist>

		<dialogues greet="Greetings, how may I help you?">
			<dialog say="job" reply="Shhh! I sell adventurers stuff."/>
			<dialog say="help" reply="I buy and sell several items, ask me for my #offer"/>

			<!-- Hmm... I need to work on the shop part some more I guess.... -->
			<!-- Couldnt come up with a good way to show both buylist and selllist in one line -->
			<!-- but this will work for now -->
			<dialog say="offer" reply="I both #sell and #buy items"/>
			<dialog say="sell" reply="I sell: " value="listshop, selllist, semos_adventurers_shop"/>
			<dialog say="buy" reply="I buy: " value="listshop, buylist, semos_adventurers_shop"/>

			<enddialog good="Goodbye, nice doing buissness with ya." bad="Yeah just go you bum!"/>
		</dialogues>
		<addshop name="semos_adventurers_shop"/>
	</npc>


<!-- Shoplist, maybe we should put this in it's own xml file -->

	<shop name="semos_tavern_drinks">
		<type class="shop" subclass="semos_tavern_drinks"/>
		<selllist>
			<add item="beer" price="10" />
			<add item="wine" price="15"/>
		</selllist>
	</shop>
	<shop name="semos_tavern_food">
		<type class="shop" subclass="semos_tavern_food"/>
		<selllist>
			<add item="cheese" price="20" />
			<add item="meat" price="40"/>
			<add item="ham" price="60"/>
		</selllist>
	</shop>

	<shop name="semos_adventurers_shop">
		<type class="shop" subclass="semos_adventurers_shop"/>
		<selllist>
			<add item="knife" price="15" />
			<add item="small_axe" price="15"/>
			<add item="club" price="10"/>
			<add item="dagger" price="25"/>
			<add item="wooden_shield" price="25"/>
			<add item="dress" price="25"/>
			<add item="leather_helmet" price="25"/>
			<add item="leather_legs" price="35"/>
		</selllist>
		<buylist>
			<add item="short_sword" price="15"/>
			<add item="sword" price="60"/>
			<add item="studded_shield" price="20"/>
			<add item="studded_armor" price="22"/>
			<add item="studded_helmet" price="17"/>
			<add item="studded_legs" price="20"/>
			<add item="chain_armor" price="29"/>
			<add item="chain_helmet" price="25"/>
			<add item="chain_legs" price="27"/>
		</buylist>
	</shop>

	<shop name="semos_healing_shop">
		<type class="shop" subclass="semos_healing_shop"/>
		<selllist>
			<add item="antidote" price="50"/>
			<add item="minor_potion" price="100"/>
			<add item="potion" price="250"/>
			<add item="greater_potion" price="500"/>
		</selllist>
	</shop>

</data>
